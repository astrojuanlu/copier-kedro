project_name:
  help: |
    Please enter a name for your new project.
    Spaces, hyphens, and underscores are allowed.
  validator: >-
    {% if not ((project_name or '') | regex_search('^[\\w -]{2,}$')) %}
    Project name must contain only alphanumeric symbols, spaces, underscores and hyphens and be at least 2 characters long.
    {% endif %}
project_tools:
  help: |
    These optional tools can help you apply software engineering best practices.
    To find out more: https://docs.kedro.org/en/stable/starters/new_project_tools.html

    Tools
    1) Lint: Basic linting with Ruff
    2) Test: Basic testing with pytest
    3) Log: Additional, environment-specific logging options
    4) Docs: A Sphinx documentation setup
    5) Data Folder: A folder structure for data management
    6) PySpark: Configuration for working with PySpark
    7) Kedro-Viz: Kedro's native visualisation tool

    Which tools would you like to include in your project?
  type: str
  placeholder: "1-7/1,3/all/none"
  validator: >-
    {% if not ((project_tools or '') | regex_search('^(all|none|(( )*\\d+( *- *\\d+)?( *, *\\d+( *- *\\d+)?)*( )*)?)$')) %}
    Please select valid options for project tools using comma-separated values, ranges, or 'all/none'.
    {% endif %}
example_pipeline:
  help: |
    Select whether you would like an example spaceflights pipeline included in your project.
    To find out more: https://docs.kedro.org/en/stable/starters/new_project_tools.html

    Would you like to include an example pipeline?
  type: bool
  validator: >-
    {% if not ((example_pipeline or '') | regex_search('(?i)^(y|yes|n|no)$')) %}
    Please type y, n, YES, or NO (case insensitive).
    {% endif %}
  default: no
kedro_version:
  # TODO: Is this feasible or even needed in a post `kedro new` world?
  help: Kedro version used to generate the template
  default: "0.19.3"
  when: false
package_name:
  help: The name of the package (as in `import {package_name}`)
  default: "{{ project_name.strip().replace(' ', '_').replace('-', '_').lower() }}"
  when: false
repo_name:
  help: The name of the project (as in `pip install {repo_name}`)
  default: "{{ project_name.strip().replace(' ', '-').replace('_', '-').lower() }}"
  when: false

_subdirectory: template
_templates_suffix: .j2
_answers_file: .copier-answers.yml.j2
_exclude:
  - hooks
_tasks:
  - ["{{ _copier_python }}", "{{ _copier_conf.src_path }}/hooks/post_gen_project.py", "--full-conf={{ _copier_conf|to_json }}"]
_message_after_copy: |
  🚀 Your new Kedro project is ready! 🚀

  To get started, change into your new project directory:

  cd {{ _copier_conf.dst_path  }}

  and run:

  pip install -r requirements.txt
  kedro run

  Happy Kedro-ing! 🐍🔶
